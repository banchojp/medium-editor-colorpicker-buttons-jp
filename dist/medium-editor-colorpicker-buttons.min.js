!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.MediumEditorColorPickerButtons=e():t.MediumEditorColorPickerButtons=e()}(this,function(){return function(t){function e(r){if(o[r])return o[r].exports;var i=o[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var o={};return e.m=t,e.c=o,e.i=function(t){return t},e.d=function(t,o,r){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=10)}([function(t,e,o){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();e.__esModule=!0,o(8),e.getColorPickerFormAbstractClass=function(t){return function(t){function e(e){var o=t.call(this,e)||this;return o.pickerCloseTimeout=1e3,o.moreColorText="More colors...",o.colors=["#1ABC9C","#16A085","#2ECC71","#27AE60","#3498DB","#2980B9","#235596","#4E5F70","#2C3E50","#8E44AD","#9B59B6","#F1C40F","#F39C12","#E67E22","#D35400","#E74C3C","#C0392B","#ECF0F1","#95A5A6","#DDDDDD","#FFFFFF","#BDC3C7","#7F8C8D","#999999","#000000"],o._processOptions(e||{}),o}return r(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.name in this.base.options&&this._processOptions(this.base.options[this.name])},e.prototype._processOptions=function(t){var e=this;Object.keys(t).forEach(function(o){e[o]=t[o]})},e.prototype._createForm=function(){var t=this.document,e=t.createElement("div");return e.className="medium-editor-toolbar-form",e.id="medium-editor-toolbar-form-textcolor-"+this.getEditorId(),this.list=this._createColorList(),this.colorPicker=this._createColorPicker(),e.appendChild(this.list),e.appendChild(this.colorPicker),e},e.prototype._createColorPicker=function(){var t=this,e=this.document.createElement("div");e.className="medium-editor-textcolor-color-picker cp-small";var o;return window.ColorPicker(e,function(e,r,i){clearTimeout(o),o=setTimeout(function(){t.base.checkSelection()},t.pickerCloseTimeout),t.color=e,t._applyColor(!0)}),e.style.display="none",e},e.prototype._createColorList=function(){var t=this,e=this.document,o=e.createElement("ul");o.className="medium-editor-textcolor-box",this.colors.forEach(function(r){var i=e.createElement("li");i.className="medium-editor-textcolor-square",i.style.backgroundColor=r,o.appendChild(i),t.on(i,"click",function(e){t.color=r,t._applyColor()})});var r=e.createElement("li");return r.className="medium-editor-textcolor-pick-color",r.innerText=this.moreColorText,o.appendChild(r),this.on(r,"click",function(e){t._showHideColorPicker(!0)}),o},e.prototype._showHideColorPicker=function(t){void 0===t&&(t=!1),!0===t?(this.list.style.display="none",this.colorPicker.style.display="block",this.base.restoreSelection()):(this.list.style.display="block",this.colorPicker.style.display="none"),this.setToolbarPosition()},e.prototype._applyColor=function(t){return void 0===t&&(t=!1),this.base.restoreSelection(),this.applyColor(this.color),!t&&this.base.checkSelection()},e.prototype.destroy=function(){this.form&&(this.form.parentNode&&this.form.parentNode.removeChild(this.form),delete this.form,delete this.list,delete this.colorPicker)},e.prototype.getForm=function(){return this.form||(this.form=this._createForm())},e.prototype.handleClick=function(t){return t.preventDefault(),t.stopPropagation(),this.isDisplayed()||this.showForm(),!1},e.prototype.showForm=function(){this.base.saveSelection(),this.hideToolbarDefaultActions(),t.prototype.showForm.call(this),this.setToolbarPosition()},e.prototype.hideForm=function(){t.prototype.hideForm.call(this),this._showHideColorPicker()},e}(t)}},function(t,e){function o(t,e){var o=t[1]||"",i=t[3];if(!i)return o;if(e&&"function"==typeof btoa){var n=r(i);return[o].concat(i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"})).concat([n]).join("\n")}return[o].join("\n")}function r(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r=o(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r}).join("")},e.i=function(t,o){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var n=this[i][0];"number"==typeof n&&(r[n]=!0)}for(i=0;i<t.length;i++){var s=t[i];"number"==typeof s[0]&&r[s[0]]||(o&&!s[2]?s[2]=o:o&&(s[2]="("+s[2]+") and ("+o+")"),e.push(s))}},e}},function(t,e,o){function r(t,e){for(var o=0;o<t.length;o++){var r=t[o],i=h[r.id];if(i){i.refs++;for(var n=0;n<i.parts.length;n++)i.parts[n](r.parts[n]);for(;n<r.parts.length;n++)i.parts.push(p(r.parts[n],e))}else{for(var s=[],n=0;n<r.parts.length;n++)s.push(p(r.parts[n],e));h[r.id]={id:r.id,refs:1,parts:s}}}}function i(t){for(var e=[],o={},r=0;r<t.length;r++){var i=t[r],n=i[0],s=i[1],l=i[2],c=i[3],a={css:s,media:l,sourceMap:c};o[n]?o[n].parts.push(a):e.push(o[n]={id:n,parts:[a]})}return e}function n(t,e){var o=v(t.insertInto);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=x[x.length-1];if("top"===t.insertAt)r?r.nextSibling?o.insertBefore(e,r.nextSibling):o.appendChild(e):o.insertBefore(e,o.firstChild),x.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");o.appendChild(e)}}function s(t){t.parentNode.removeChild(t);var e=x.indexOf(t);e>=0&&x.splice(e,1)}function l(t){var e=document.createElement("style");return t.attrs.type="text/css",a(e,t.attrs),n(t,e),e}function c(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",a(e,t.attrs),n(t,e),e}function a(t,e){Object.keys(e).forEach(function(o){t.setAttribute(o,e[o])})}function p(t,e){var o,r,i;if(e.singleton){var n=g++;o=y||(y=l(e)),r=f.bind(null,o,n,!1),i=f.bind(null,o,n,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(o=c(e),r=d.bind(null,o,e),i=function(){s(o),o.href&&URL.revokeObjectURL(o.href)}):(o=l(e),r=u.bind(null,o),i=function(){s(o)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}function f(t,e,o,r){var i=o?"":r.css;if(t.styleSheet)t.styleSheet.cssText=k(e,i);else{var n=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(n,s[e]):t.appendChild(n)}}function u(t,e){var o=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=o;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}function d(t,e,o){var r=o.css,i=o.sourceMap,n=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||n)&&(r=b(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var s=new Blob([r],{type:"text/css"}),l=t.href;t.href=URL.createObjectURL(s),l&&URL.revokeObjectURL(l)}var h={},m=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),v=function(t){var e={};return function(o){return void 0===e[o]&&(e[o]=t.call(this,o)),e[o]}}(function(t){return document.querySelector(t)}),y=null,g=0,x=[],b=o(9);t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},e.attrs="object"==typeof e.attrs?e.attrs:{},void 0===e.singleton&&(e.singleton=m()),void 0===e.insertInto&&(e.insertInto="head"),void 0===e.insertAt&&(e.insertAt="bottom");var o=i(t);return r(o,e),function(t){for(var n=[],s=0;s<o.length;s++){var l=o[s],c=h[l.id];c.refs--,n.push(c)}if(t){r(i(t),e)}for(var s=0;s<n.length;s++){var c=n[s];if(0===c.refs){for(var a=0;a<c.parts.length;a++)c.parts[a]();delete h[c.id]}}}};var k=function(){var t=[];return function(e,o){return t[e]=o,t.filter(Boolean).join("\n")}}()},function(t,e,o){var r=o(6);"string"==typeof r&&(r=[[t.i,r,""]]);o(2)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,o){var r=o(7);"string"==typeof r&&(r=[[t.i,r,""]]);o(2)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,o){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();e.__esModule=!0;var i=o(0);e.getTextColorButtonClass=function(t){return function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="textcolor",e.contentDefault="<b>è‰²</b>",e.aria="text color",e.action="text-color",e.tagNames=["font"],e}return r(e,t),e.prototype.applyColor=function(t){this.document.execCommand.apply(this.document,this._getCommandArgs(t))},e.prototype._getCommandArgs=function(t){return["foreColor",!1,t,this.document.queryCommandValue("fontName")]},e}(i.getColorPickerFormAbstractClass(t))}},function(t,e,o){e=t.exports=o(1)(!1),e.push([t.i,".picker-wrapper,.slide-wrapper{position:relative;display:inline-block}.picker-indicator,.slide-indicator{position:absolute;left:0;top:0;pointer-events:none}.picker,.slide{cursor:crosshair;float:left}.cp-small{background-color:inherit!important;padding:5px 5px 2px;border-radius:5px}.cp-small .picker{width:100px;height:100px}.cp-small .slide{width:15px;height:100px}.cp-small .slide-wrapper{margin-left:5px}.cp-small .picker-indicator{width:1px;height:1px;border:1px solid #000;background-color:#fff}.cp-small .slide-indicator{width:100%;height:2px;left:0;background-color:#000}",""])},function(t,e,o){e=t.exports=o(1)(!1),e.push([t.i,".medium-toolbar-arrow-under:after{bottom:-8px!important;top:auto!important}.medium-editor-textcolor-color-picker{background-color:inherit!important;float:none;padding:5px 5px 2px}.medium-editor-textcolor-color-picker .picker-wrapper,.medium-editor-textcolor-color-picker .slide-wrapper{float:none;display:inline-block}.medium-editor-textcolor-box{max-width:105px;padding:5px!important;line-height:normal}.medium-editor-textcolor-box .medium-editor-textcolor-square{width:15px;height:15px;display:inline-block;margin:0 2px;float:none;cursor:pointer;border-radius:1px;border:1px solid hsla(0,0%,100%,.3)}.medium-editor-textcolor-box .medium-editor-textcolor-pick-color{font-size:12px;display:block;border:1px solid hsla(0,0%,100%,.3);border-radius:3px;padding:2px 0;width:100%;text-align:center;margin:5px 0;cursor:pointer}",""])},function(t,e){!function(t,e,o){function r(e){if(t.event&&t.event.contentOverflow!==o)return{x:t.event.offsetX,y:t.event.offsetY};if(e.offsetX!==o&&e.offsetY!==o)return{x:e.offsetX,y:e.offsetY};var r=e.target.parentNode.parentNode;return{x:e.layerX-r.offsetLeft,y:e.layerY-r.offsetTop}}function i(t,o,r){t=e.createElementNS(y,t);for(var i in o)t.setAttribute(i,o[i]);"[object Array]"!=Object.prototype.toString.call(r)&&(r=[r]);for(var n=0,s=r[0]&&r.length||0;n<s;n++)t.appendChild(r[n]);return t}function n(t){var e,o,r,i,n,s=t.h%360/60;n=t.v*t.s,i=n*(1-Math.abs(s%2-1)),e=o=r=t.v-n,s=~~s,e+=[n,i,0,0,i,n][s],o+=[i,n,n,i,0,0][s],r+=[0,0,i,n,n,i][s];var l=Math.floor(255*e),c=Math.floor(255*o),a=Math.floor(255*r);return{r:l,g:c,b:a,hex:"#"+(16777216|a|c<<8|l<<16).toString(16).slice(1)}}function s(t){var e=t.r,o=t.g,r=t.b;(t.r>1||t.g>1||t.b>1)&&(e/=255,o/=255,r/=255);var i,n,s,l;return s=Math.max(e,o,r),l=s-Math.min(e,o,r),i=0==l?null:s==e?(o-r)/l+(o<r?6:0):s==o?(r-e)/l+2:(e-o)/l+4,i=i%6*60,n=0==l?0:l/s,{h:i,s:n,v:s}}function l(e,i,s){return function(l){l=l||t.event;var c=r(l);e.h=c.y/i.offsetHeight*360+v;var a=n({h:e.h,s:1,v:1}),p=n({h:e.h,s:e.s,v:e.v});s.style.backgroundColor=a.hex,e.callback&&e.callback(p.hex,{h:e.h-v,s:e.s,v:e.v},{r:p.r,g:p.g,b:p.b},o,c)}}function c(e,o){return function(i){i=i||t.event;var s=r(i),l=o.offsetWidth,c=o.offsetHeight;e.s=s.x/l,e.v=(c-s.y)/c;var a=n(e);e.callback&&e.callback(a.hex,{h:e.h-v,s:e.s,v:e.v},{r:a.r,g:a.g,b:a.b},s)}}function a(t,e,o){if(!(this instanceof a))return new a(t,e,o);if(this.h=0,this.s=1,this.v=1,o)this.callback=o,this.pickerElement=e,this.slideElement=t;else{var r=t;r.innerHTML=g,this.slideElement=r.getElementsByClassName("slide")[0],this.pickerElement=r.getElementsByClassName("picker")[0];var i=r.getElementsByClassName("slide-indicator")[0],n=r.getElementsByClassName("picker-indicator")[0];a.fixIndicators(i,n),this.callback=function(t,o,r,s,l){a.positionIndicators(i,n,l,s),e(t,o,r)}}if("SVG"==m){var s=h.cloneNode(!0),u=d.cloneNode(!0),v=s.getElementsByTagName("linearGradient")[0],y=s.getElementsByTagName("rect")[0];v.id="gradient-hsv-"+x,y.setAttribute("fill","url(#"+v.id+")");var b=[u.getElementsByTagName("linearGradient")[0],u.getElementsByTagName("linearGradient")[1]],k=u.getElementsByTagName("rect");b[0].id="gradient-black-"+x,b[1].id="gradient-white-"+x,k[0].setAttribute("fill","url(#"+b[1].id+")"),k[1].setAttribute("fill","url(#"+b[0].id+")"),this.slideElement.appendChild(s),this.pickerElement.appendChild(u),x++}else this.slideElement.innerHTML=h,this.pickerElement.innerHTML=d;p(this.slideElement,"click",l(this,this.slideElement,this.pickerElement)),p(this.pickerElement,"click",c(this,this.pickerElement)),f(this,this.slideElement,l(this,this.slideElement,this.pickerElement)),f(this,this.pickerElement,c(this,this.pickerElement))}function p(t,e,o){t.attachEvent?t.attachEvent("on"+e,o):t.addEventListener&&t.addEventListener(e,o,!1)}function f(t,e,o){var r=!1;p(e,"mousedown",function(t){r=!0}),p(e,"mouseup",function(t){r=!1}),p(e,"mouseout",function(t){r=!1}),p(e,"mousemove",function(t){r&&o(t)})}function u(t,e,o,r){t.h=e.h%360,t.s=e.s,t.v=e.v;var i=n(t),s={y:t.h*t.slideElement.offsetHeight/360,x:0},l=t.pickerElement.offsetHeight,c={x:t.s*t.pickerElement.offsetWidth,y:l-t.v*l};return t.pickerElement.style.backgroundColor=n({h:t.h,s:1,v:1}).hex,t.callback&&t.callback(r||i.hex,{h:t.h,s:t.s,v:t.v},o||{r:i.r,g:i.g,b:i.b},c,s),t}var d,h,m=t.SVGAngle||e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML",v=15,y="http://www.w3.org/2000/svg",g=['<div class="picker-wrapper">','<div class="picker"></div>','<div class="picker-indicator"></div>',"</div>",'<div class="slide-wrapper">','<div class="slide"></div>','<div class="slide-indicator"></div>',"</div>"].join("");"SVG"==m?(h=i("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},[i("defs",{},i("linearGradient",{id:"gradient-hsv",x1:"0%",y1:"100%",x2:"0%",y2:"0%"},[i("stop",{offset:"0%","stop-color":"#FF0000","stop-opacity":"1"}),i("stop",{offset:"13%","stop-color":"#FF00FF","stop-opacity":"1"}),i("stop",{offset:"25%","stop-color":"#8000FF","stop-opacity":"1"}),i("stop",{offset:"38%","stop-color":"#0040FF","stop-opacity":"1"}),i("stop",{offset:"50%","stop-color":"#00FFFF","stop-opacity":"1"}),i("stop",{offset:"63%","stop-color":"#00FF40","stop-opacity":"1"}),i("stop",{offset:"75%","stop-color":"#0BED00","stop-opacity":"1"}),i("stop",{offset:"88%","stop-color":"#FFFF00","stop-opacity":"1"}),i("stop",{offset:"100%","stop-color":"#FF0000","stop-opacity":"1"})])),i("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#gradient-hsv)"})]),d=i("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},[i("defs",{},[i("linearGradient",{id:"gradient-black",x1:"0%",y1:"100%",x2:"0%",y2:"0%"},[i("stop",{offset:"0%","stop-color":"#000000","stop-opacity":"1"}),i("stop",{offset:"100%","stop-color":"#CC9A81","stop-opacity":"0"})]),i("linearGradient",{id:"gradient-white",x1:"0%",y1:"100%",x2:"100%",y2:"100%"},[i("stop",{offset:"0%","stop-color":"#FFFFFF","stop-opacity":"1"}),i("stop",{offset:"100%","stop-color":"#CC9A81","stop-opacity":"0"})])]),i("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#gradient-white)"}),i("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#gradient-black)"})])):"VML"==m&&(h=['<DIV style="position: relative; width: 100%; height: 100%">','<v:rect style="position: absolute; top: 0; left: 0; width: 100%; height: 100%" stroked="f" filled="t">','<v:fill type="gradient" method="none" angle="0" color="red" color2="red" colors="8519f fuchsia;.25 #8000ff;24903f #0040ff;.5 aqua;41287f #00ff40;.75 #0bed00;57671f yellow"></v:fill>',"</v:rect>","</DIV>"].join(""),d=['<DIV style="position: relative; width: 100%; height: 100%">','<v:rect style="position: absolute; left: -1px; top: -1px; width: 101%; height: 101%" stroked="f" filled="t">','<v:fill type="gradient" method="none" angle="270" color="#FFFFFF" opacity="100%" color2="#CC9A81" o:opacity2="0%"></v:fill>',"</v:rect>",'<v:rect style="position: absolute; left: 0px; top: 0px; width: 100%; height: 101%" stroked="f" filled="t">','<v:fill type="gradient" method="none" angle="0" color="#000000" opacity="100%" color2="#CC9A81" o:opacity2="0%"></v:fill>',"</v:rect>","</DIV>"].join(""),e.namespaces.v||e.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"));var x=0;a.hsv2rgb=function(t){var e=n(t);return delete e.hex,e},a.hsv2hex=function(t){return n(t).hex},a.rgb2hsv=s,a.rgb2hex=function(t){return n(s(t)).hex},a.hex2hsv=function(t){return s(a.hex2rgb(t))},a.hex2rgb=function(t){return{r:parseInt(t.substr(1,2),16),g:parseInt(t.substr(3,2),16),b:parseInt(t.substr(5,2),16)}},a.prototype.setHsv=function(t){return u(this,t)},a.prototype.setRgb=function(t){return u(this,s(t),t)},a.prototype.setHex=function(t){return u(this,a.hex2hsv(t),o,t)},a.positionIndicators=function(t,e,o,r){o&&(t.style.top=o.y-t.offsetHeight/2+"px"),r&&(e.style.top=r.y-e.offsetHeight/2+"px",e.style.left=r.x-e.offsetWidth/2+"px")},a.fixIndicators=function(t,e){e.style.pointerEvents="none",t.style.pointerEvents="none"},t.ColorPicker=a}(window,window.document)},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var o=e.protocol+"//"+e.host,r=o+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var i=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i))return t;var n;return n=0===i.indexOf("//")?i:0===i.indexOf("/")?o+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(n)+")"})}},function(t,e,o){"use strict";e.__esModule=!0,o(3),o(4);var r=o(0),i=o(5);e.get=function(t){return{ColorPickerFormAbstractClass:r.getColorPickerFormAbstractClass(t.extensions.form),TextColorButtonClass:i.getTextColorButtonClass(t.extensions.form),version:"0.0.4"}}}])});